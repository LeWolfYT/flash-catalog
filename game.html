<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="title" content="Flash">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="language" content="English">
  <title>Ruffle</title>
  <script>var swfobject = {};

swfobject.embedSWF = function(url, cont, width, height){
    var ruffle = window.RufflePlayer.newest(),
        player = Object.assign(document.getElementById(cont).appendChild(ruffle.createPlayer()), {
            width: width,
            height: height,
            style: 'width: ' + width + 'px; height: ' + height + 'px;',
        });

    window.RufflePlayer.config = {
    "publicPath": undefined,
    "polyfills": true,
    "allowScriptAccess": true,
    "autoplay": "true",
    "unmuteOverlay": "visible",
    "backgroundColor": null,
    "wmode": "opaque",
    "letterbox": "off",
    "warnOnUnsupportedContent": true,
    "contextMenu": "on",
    "showSwfDownload": false,
    "upgradeToHttps": window.location.protocol === "https:",
    "maxExecutionDuration": 15,
    "logLevel": "error",
    "base": null,
    "menu": true,
    "salign": "",
    "forceAlign": false,
    "scale": "showAll",
    "forceScale": false,
    "frameRate": null,
    "quality": "high",
    "splashScreen": true,
    "preferredRenderer": null,
    "openUrlMode": "allow",
    "allowNetworking": "all",
    "favorFlash": true,
    "socketProxy": [],
    "fontSources": [],
    "defaultFonts": {},
    "credentialAllowList": [],
    "playerRuntime": "flashPlayer",
};
    player.load({ url: url });
  return ruffle, player
}</script>
  <noscript>Your browser doesn't have JavaScript enabled. Please enable JavaScript or switch to a browser that
    supports it.</noscript>
  <style>
    html, body, div {
      margin: 0;
      padding: 0;
    }
    html, body {
      width: 100%;
      height: 100%;
    }
    #conbut {
      position: absolute;
      top: 0.5em;
      left: 0.5em;
      z-order: 30;
    }
    div, canvas {
      z-order: -1;
    }
  </style>
</head>
<body id="egggy">
<div id='ruffle' class="gameloc"></div>
  
  <button id="conbut">Down to controls</button>
  <p id="contrls">Controls</p>
<button id="plbtn">Play (if a game isn't loading, try pressing this!)</button>
  <button id="psbtn">Pause</button>
  <button id="rlbtn">Reload</button>
  <button id="dlbtn">Download this game</button>
  <button id="scbtn">Set to native scale</button>
  <button id="fsbtn">Set to window size</button>
  <!-- Histats.com  (div with counter) --><div id="histats_counter"></div>
<!-- Histats.com  START  (aync)-->
<script type="text/javascript">var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.startgif', '1,4812616,4,10032,"div#histatsC {position: absolute;top:50%;right:0px;}body>div#histatsC {position: fixed;}"']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
hs.src = ('//s10.histats.com/js15_giftop_as.js');
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();</script>
<noscript><style type="text/css">div#histatsC {position: absolute;top:50%;right:0px;}body>div#histatsC {position: fixed;}</style>
<a href="/" alt="web log free" target="_blank" ><div id="histatsC"><img border="0" src="//s4is.histats.com/stats/i/4812616.gif?4812616&103"></div></a>
</noscript>
        <!-- Histats.com  END  -->
<script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
  
<script id = "gabe">
var ruff, playe = swfobject.embedSWF("./games/"+(new URLSearchParams(window.location.search)).get("game"), 'ruffle', 800, 600);
var fulls = false;
  function fixWindow() {
    if (fulls) {
  playe.width = document.getElementsByTagName("HTML")[0].clientWidth;
  playe.height = document.getElementsByTagName("HTML")[0].clientHeight;
  playe.style = "width: " + document.getElementsByTagName("HTML")[0].clientWidth + "px; height: " + document.getElementsByTagName("HTML")[0].clientHeight + "px;";
}}

playe.addEventListener('loadedmetadata', () => {
  let meta = playe.metadata;
    playe.width = meta.width;
    playe.height = meta.height;
    playe.style = "width: " + meta.width + "px; height: " + meta.height + "px;"
    fulls = false;
});

window.onresize = fixWindow;
document.getElementById("plbtn").onclick = function(){playe.play();};
  document.getElementById("psbtn").onclick = function(){playe.pause();};
  document.getElementById("rlbtn").onclick = function(){playe.reload();};
  document.getElementById("dlbtn").onclick = function(){playe.downloadSwf();};
  document.getElementById("scbtn").onclick = function(){
    let meta = playe.metadata;
    playe.width = meta.width;
    playe.height = meta.height;
    playe.style = "width: " + meta.width + "px; height: " + meta.height + "px;"
    fulls = false;
  };
  document.getElementById("fsbtn").onclick = function(){fulls = true;fixWindow();};
  document.getElementById("conbut").onclick = function(){window.scroll({top: 1000, left: 0, behavior: "smooth"})};

</script>
</body>
</html>
